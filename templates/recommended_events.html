{% extends "nav.html" %}
{% block title %}Event Hub - Recommended Events{% endblock %}

{% block content %}
<style>
    /* Layout & Theme */
    .section-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .back-btn {
        background-color: #ff6600;
        color: white;
        padding: 0.6rem 1.2rem;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        text-decoration: none;
        transition: background-color 0.3s ease;
    }

    .back-btn:hover {
        background-color: #e65c00;
    }

    /* Event Cards */
    .event-card {
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(12px);
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.4);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        color: #fff;
    }

    .event-card:hover {
        transform: translateY(-5px);
        box-shadow: 0px 8px 20px rgba(255, 102, 0, 0.3);
    }

    .event-image {
        width: 100%;
        height: 180px;
        object-fit: cover;
    }

    .event-body {
        padding: 1rem;
    }

    .event-category {
        display: inline-block;
        background-color: #ff6600;
        padding: 0.2rem 0.6rem;
        border-radius: 50px;
        font-size: 0.8rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }

    .event-title {
        font-size: 1.1rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }

    .event-meta {
        font-size: 0.9rem;
        color: #ccc;
        margin-bottom: 1rem;
    }

    .event-btn {
        display: block;
        width: 100%;
        background-color: #ffcc00;
        color: #000;
        padding: 0.5rem;
        text-align: center;
        border-radius: 8px;
        font-weight: bold;
        text-decoration: none;
    }

    .event-btn:hover {
        background-color: #e6b800;
    }
</style>

<section class="section-header">
    <h1 class="text-white mb-4">üéØ Recommended for You</h1>

    {% if messages %}
      {% for message in messages %}
        <p class="{% if 'success' in message.tags %}text-success{% else %}text-danger{% endif %} text-center">
          {{ message }}
        </p>
      {% endfor %}
    {% endif %}

    <a href="{% url 'all_events' %}" class="back-btn">üîô Back to All Events</a>
</section>

<div class="container">
    <div class="row g-4" id="eventList">
        {% for event in recommended_events %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <div class="event-card h-100">
                <img src="{{ event.banner.url }}" alt="Event Banner" class="event-image">
                <div class="event-body">
                    <span class="event-category">{{ event.category }}</span>
                    <h5 class="event-title">{{ event.title }}</h5>
                    <div class="event-meta">
                        üìÖ {{ event.date|date:"F j, Y" }}<br>
                        üïí {{ event.time|time:"h:i A" }}<br>
                        üìç {{ event.location }}
                    </div>
                    <a href="{% url 'user_event_detail' event.id %}" class="event-btn">View Details</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center text-light">No recommended events found.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
